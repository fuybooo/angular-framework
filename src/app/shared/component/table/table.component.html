<ng-container *ngIf="!syncData?.length">
  <nz-table #nzTable
            [nzAjaxData]="_dataSet"
            [nzSize]="tableSize"
            [nzPageSize]="10"
            nzShowSizeChanger
            [nzLoading]="_loading"
            [nzTotal]="_total"
            [(nzPageIndex)]="_current"
            [(nzPageSize)]="_pageSize"
            (nzPageIndexChange)="search()"
            (nzPageSizeChange)="search(true)"
  >
    <thead nz-thead>
    <tr>
      <th nz-th nzCheckbox *ngIf="isCheckbox">
        <label nz-checkbox
               [(ngModel)]="_allChecked"
               [nzIndeterminate]="_indeterminate"
               (ngModelChange)="_checkAll($event)">
        </label>
      </th>
      <th nz-th *ngFor="let col of columns">
        <span>
          {{col.title}}
          <ng-container *ngIf="col.sortable">
            <nz-table-sort [(nzValue)]="_sortMap[col.field]" (nzValueChange)="sort(col.field, $event)"></nz-table-sort>
          </ng-container>
        </span>
      </th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let data of nzTable.data; let i = index">
      <td nz-td nzCheckbox *ngIf="isCheckbox">
        <label nz-checkbox
               [(ngModel)]="data.checked"
               (ngModelChange)="_refreshStatus($event)">
        </label>
      </td>
      <td nz-td *ngFor="let col of columns" [ngClass]="{'table-operate-td': col.isOperate}">
        <ng-container *ngIf="col.formatter">
          <span [innerHTML]="domSanitizer.bypassSecurityTrustHtml(col.formatter(data[col.field], i, data))"></span>
        </ng-container>
        <ng-container *ngIf="!col.formatter && col.field">
          <span>{{data[col.field]}}</span>
        </ng-container>
        <ng-container *ngIf="col.isOperate && col.event?.del">
          <span><a (click)="onClickDel(data)">删除</a></span>
        </ng-container>
        <ng-container *ngIf="col.isOperate && col.event?.edit">
          <span><a (click)="onClickEdit(data)">编辑</a></span>
        </ng-container>
      </td>
    </tr>
    </tbody>
  </nz-table>
</ng-container>
<ng-container *ngIf="syncData?.length">
  <nz-table #nzTable
            [nzDataSource]="syncData"
            [nzSize]="tableSize"
            [nzPageSize]="10"
            (nzDataChange)="_displayDataChange($event)"
            (nzPageIndexChange)="_refreshStatus()"
            (nzPageSizeChange)="_refreshStatus()"
            nzShowSizeChanger
  >
    <thead nz-thead>
    <tr>
      <th nz-th nzCheckbox *ngIf="isCheckbox">
        <label nz-checkbox
               [(ngModel)]="_allChecked"
               [nzIndeterminate]="_indeterminate"
               (ngModelChange)="_checkAll($event)">
        </label>
      </th>
      <th nz-th *ngFor="let col of columns">
        <span>
          {{col.title}}
          <ng-container *ngIf="col.sortable">
            <nz-table-sort [(nzValue)]="_sortMap[col.field]" (nzValueChange)="sort(col.field, $event)"></nz-table-sort>
          </ng-container>
        </span>
      </th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let data of nzTable.data; let i = index">
      <td nz-td nzCheckbox *ngIf="isCheckbox">
        <label nz-checkbox
               [(ngModel)]="data.checked"
               (ngModelChange)="_refreshStatus($event)">
        </label>
      </td>
      <td nz-td *ngFor="let col of columns" [ngClass]="{'table-operate-td': col.isOperate}">
        <ng-container *ngIf="col.formatter">
          <span [innerHTML]="domSanitizer.bypassSecurityTrustHtml(col.formatter(data[col.field], i, data))"></span>
        </ng-container>
        <ng-container *ngIf="!col.formatter && col.field">
          <span>{{data[col.field]}}</span>
        </ng-container>
        <ng-container *ngIf="col.isOperate && col.event?.del">
          <span><a (click)="onClickDel(data)">删除</a></span>
        </ng-container>
        <ng-container *ngIf="col.isOperate && col.event?.edit">
          <span><a (click)="onClickEdit(data)">编辑</a></span>
        </ng-container>
      </td>
    </tr>
    </tbody>
  </nz-table>
</ng-container>
